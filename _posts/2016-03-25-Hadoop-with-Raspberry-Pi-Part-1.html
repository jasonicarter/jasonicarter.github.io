---
layout: post
title:  "How to Hadoop at home with Raspberry Pi - Part 1"
date: 2016-03-25
tags: [raspberry pi, hadoop, tutorial]
comments: true
share: true
---

<section name="4282" class=" section--body"><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="427a" id="427a" class="graf--p graf--leading">If you’re new to Raspberry PI and Hadoop and want to build a Hadoop cluster on Raspberry PI, this <strong class="markup--strong markup--p-strong">is definitely </strong>the place for you. Together we’re going to learn “Distributed Computing and Big Data Processing” and end up with our very own Raspberry Pi Hadoop Cluster.</p><p name="e663" id="e663" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">This is not a tutorial.</strong> Think of it more as a journey, there’s no nice step-by-step process here, I’m going to make mistakes, get errors, fix them and try to move on.</p><ol class="postList"><li name="82bd" id="82bd" class="graf--li graf-after--p"><a href="{{ site.url }}/Hadoop-with-Raspberry-Pi-Part-1" class="markup--anchor markup--li-anchor"><em class="markup--em markup--li-em">Part 1: Setting up Raspberry Pi and network configurations</em></a></li><li name="6795" id="6795" class="graf--li graf-after--li"><a href="{{ site.url }}/Hadoop-with-Raspberry-Pi-Part-2" class="markup--anchor markup--li-anchor"><em class="markup--em markup--li-em">Part 2: Hadoop single node setup, testing and prepping the cluster</em></a></li><li name="3a0b" id="3a0b" class="graf--li graf-after--li"><a href="{{ site.url }}/Hadoop-with-Raspberry-Pi-Part-3" class="markup--anchor markup--li-anchor"><em class="markup--em markup--li-em">Part 3: Hadoop cluster setup, testing and final thoughts</em></a></li></ol><h4 name="63ef" id="63ef" class="graf--h4 graf-after--li">Why…</h4><p name="1ebe" id="1ebe" class="graf--p graf-after--h4">build a Raspberry Pi Hadoop Cluster? A couple of reasons. I’m actually interested in it, surprise surprise. Plus, I’m a nerd and a techie with a software development background. I also think Data Engineer and Data Analysis are pretty cool and interesting careers, so how better to get to know them than by doing it???</p><p name="1929" id="1929" class="graf--p graf-after--p">In the end, I’m hoping to have some fun learning about Raspberry Pi, Hadoop and all…most…some of its components. I’m also taking <a href="https://www.udacity.com/nanodegrees-new-s/nd002" data-href="https://www.udacity.com/nanodegrees-new-s/nd002" class="markup--anchor markup--p-anchor" rel="nofollow">Udacity’s Nanodegree in Data Analytics</a> so I think it’ll be a pretty cool experience trying to learn Data Analytics along with Data Engineering my own Hadoop Cluster.</p><h4 name="0b7b" id="0b7b" class="graf--h4 graf-after--p">How…</h4><p name="c93b" id="c93b" class="graf--p graf-after--h4">will I get things done? From scratch and the internet, my dear friend. So far I’ve found some amazing articles and tutorials online for Hadoop, Raspberry Pi and Hadoop on Raspberry Pi. I wont be blindly following any one article but I will definitely not be doing it alone, so any material I reference, I’ll provide the link to inline.</p><h4 name="476a" id="476a" class="graf--h4 graf-after--p">What…</h4><p name="d011" id="d011" class="graf--p graf-after--h4 graf--last">do I already know? <strong class="markup--strong markup--p-strong">Nothing</strong>. Well, a little more than nothing. I’m only a couple of weeks into my Udacity program, I know only the basics of what Hadoop is and I’ve never touched a Raspberry Pi before. So that’s where I’ll be starting from. And now it’s time to start…</p></div></div></section><section name="6232" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h3 name="4de5" id="4de5" class="graf--h3 graf--leading">Raspberry Pi and Hadoop</h3><p name="5d73" id="5d73" class="graf--p graf-after--h3">Let us first have a <em class="markup--em markup--p-em">very</em> brief paragraph on the main hardware and software I’ll be using. It’s going to be brief because 1) I don’t know what I’m talking about and 2) there are plenty of very long articles out there that go into great details, so why repeat them here. So here are the highlights:</p><h4 name="1cac" id="1cac" class="graf--h4 graf-after--p">Raspberry Pi…</h4><ul class="postList"><li name="9960" id="9960" class="graf--li graf-after--h4">is a very small, and inexpensive, pocket size computer</li><li name="0212" id="0212" class="graf--li graf-after--li">Model B has a quad core ARM running at 900MHz with 1GB of RAM</li></ul><h4 name="3683" id="3683" class="graf--h4 graf-after--li">Hadoop…</h4><ul class="postList"><li name="ab1b" id="ab1b" class="graf--li graf-after--h4">is a framework that allows for distributed computing</li><li name="06d0" id="06d0" class="graf--li graf-after--li">main components are HDFS (data storage), YARN (resource management) and MapReduce (data processing)</li><li name="fd80" id="fd80" class="graf--li graf-after--li">redundantly stores blocks (pieces of data) across servers</li><li name="0f04" id="0f04" class="graf--li graf-after--li">copies the code/query to the data instead of moving the data to the code</li></ul><h4 name="f4e1" id="f4e1" class="graf--h4 graf-after--li">Raspberry Pi + Hadoop Cluster…</h4><ul class="postList"><li name="09a7" id="09a7" class="graf--li graf-after--h4">will comprise of one NameNode and two DataNodes</li><li name="e2cd" id="e2cd" class="graf--li graf-after--li graf--last">is not production ready, in case you’re wondering</li></ul></div></div></section><section name="3a39" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h3 name="bdb5" id="bdb5" class="graf--h3 graf--leading">Setting the Stage</h3><p name="d00e" id="d00e" class="graf--p graf-after--h3">I need to buy some hardware and get some free software. My aim here is to just buy some stuff in as simple and painless a process as possible. You can probably get cheaper and cooler elsewhere.</p><p name="2b80" id="2b80" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Amazon+BestBuy:</strong></p><ul class="postList"><li name="8e10" id="8e10" class="graf--li graf-after--p">3x Raspberry Pi 2 Model B(starter kit) = CAD$210</li><li name="9d9a" id="9d9a" class="graf--li graf-after--li">1x 5 port switch = CAD$34</li><li name="426c" id="426c" class="graf--li graf-after--li">1x mini power bar (already own)</li><li name="8220" id="8220" class="graf--li graf-after--li">1x wireless mouse and keyboard (already own)</li></ul><p name="c5f5" id="c5f5" class="graf--p graf-after--li">Kit contained: Raspberry Pi, 8GB SD Class 10, Wi-Fi dongle, and a few other things we won’t need for this project.</p><p name="c88c" id="c88c" class="graf--p graf-after--p"><em class="markup--em markup--p-em">Update: I decided not to actually use a switch because I already have a wireless network setup and all 3 of my pi’s have wifi dongles</em></p><p name="5eb0" id="5eb0" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Software:</strong></p><ul class="postList"><li name="228d" id="228d" class="graf--li graf-after--p">Hadoop v2.7.2 (just plain vanilla from Apache)</li><li name="c7be" id="c7be" class="graf--li graf-after--li">Raspbian (from the NOOB SD Card included in the hardware kit)</li></ul><p name="326f" id="326f" class="graf--p graf-after--li"><em class="markup--em markup--p-em">Update: Raspbian Wheezy was on the NOOB but I ran into some newbie like issues and then discovered Raspbian Jessie was available so I made the switch. </em><a href="https://www.raspberrypi.org/documentation/installation/installing-images/mac.md" data-href="https://www.raspberrypi.org/documentation/installation/installing-images/mac.md" class="markup--anchor markup--p-anchor" rel="nofollow">https://www.raspberrypi.org/documentation/installation/installing-images/mac.md</a></p><h4 name="0f00" id="0f00" class="graf--h4 graf-after--p">Installing Raspbian…</h4><p name="415a" id="415a" class="graf--p graf-after--h4">is ridiculously easy. To start off with I just wanted to get one Raspberry up and running before jumping into anything with Hadoop. So, my setup is:</p><ol class="postList"><li name="ca3f" id="ca3f" class="graf--li graf-after--p">Raspberry Pi</li><li name="879e" id="879e" class="graf--li graf-after--li">WiFi USB dongle</li><li name="f673" id="f673" class="graf--li graf-after--li">HDMI display</li><li name="1fb3" id="1fb3" class="graf--li graf-after--li">SD Card with NOOB (updated, reformatted card)</li><li name="0b9b" id="0b9b" class="graf--li graf-after--li">Wireless mouse and keyboard with USB dongle</li><li name="0ad1" id="0ad1" class="graf--li graf-after--li">Power supply</li></ol><p name="7dd1" id="7dd1" class="graf--p graf-after--li">With all that done, I’ve plugged in Raspberry, it started up with OS install dialog, I selected Raspbian and now the long install process begins.</p><p name="a3b7" id="a3b7" class="graf--p graf-after--p"><em class="markup--em markup--p-em">Update: With my reformatted Jessie SD Card, things are a bit different but you can follow along if you have the NOOB SD Card.</em></p><h4 name="78a0" id="78a0" class="graf--h4 graf-after--p">Raspi-config…</h4><p name="2efb" id="2efb" class="graf--p graf-after--h4">pops up once the install is completed. Here we would normally do some simple configuration stuff but because this will also be my nameNode server I’ll also do some more specific changes for that purpose.</p><pre name="d769" id="d769" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">Numbers don&#39;t map to the rasp-config, just the order</strong><br>1. Expand Filesystem - No. Using NOOB <br>2. Enable Boot to Desktop/Scratch/CLI - Going with Desktop and terminal<br>4. Internationalization Options - You&#39;ll want to change timezone<br>5. Overclock - After reading the warning I&#39;ll go with the Pi2 setting<br>6. Advanced: Hostname - node1 (will be my NameNode)<br>7. Advanced: Memory split: 32MB (memory made available to the GPU)<br>8. Advanced: SSH (will be used later)</pre><p name="1471" id="1471" class="graf--p graf-after--pre"><em class="markup--em markup--p-em">Update: this was the original setup with Wheezy but Jessie does away with the Raspi-config, and replaces it with the GUI after you login.</em></p><p name="a487" id="a487" class="graf--p graf-after--p">Once that’s all done. Reboot! Raspberry Pi is now up and running. The next two steps are network configurations and Java environment, which look pretty simple so I’ll do that now before calling it a day aka Part 1.</p><h4 name="7b09" id="7b09" class="graf--h4 graf-after--p">Network configuring and Java…</h4><p name="4370" id="4370" class="graf--p graf-after--h4">gave me 10mins of confusion but in the end my <em class="markup--em markup--p-em">/etc/network/interfaces</em> file looks like this:</p><pre name="d05c" id="d05c" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">Use this to find your raspberry&#39;s ip address</strong><br>$hostname -I</pre><pre name="caab" id="caab" class="graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">Use sudo or root to edit the interfaces file and save</strong><br>$sudo nano /etc/network/interfaces</pre><pre name="2af0" id="2af0" class="graf--pre graf-after--pre">#these values are specific to me, use your own from above<br>iface eth0 inet static<br>address 192.168.0.107 <br>netmask 255.255.255.0<br>gateway 192.168.0.1</pre><p name="d56a" id="d56a" class="graf--p graf-after--pre">Some tutorials talked about checking my <em class="markup--em markup--p-em">/etc/resolv.conf </em>but this has something to do with a “nameserver / DNS” which I’m pretty sure doesn’t apply to my situation (<strong class="markup--strong markup--p-strong">Note-to-self</strong>: if something breaks come back here). Now, some tutorials also say reboot and then check for Java which should be pre-installed with NOOB. But why reboot first? So, last step, check for Java</p><pre name="822b" id="822b" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">From the terminal: </strong>$java -version</pre><p name="af54" id="af54" class="graf--p graf-after--pre">Thankfully, my system has Java installed (Java version 1.8.0 was printed on the screen). And I say thankfully because I have no idea what to do if it wasn’t — well, I’d have to install it, which isn’t a big deal but still.</p><p name="a72b" id="a72b" class="graf--p graf-after--p">Also, I’m going to update my hosts file to make things a little easier when looking up each machine (once we get the other two nodes up and running).</p><pre name="dce8" id="dce8" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">From the terminal:</strong> $sudo nano /etc/hosts<br>add: 192.168.0.107 node1</pre><pre name="f44e" id="f44e" class="graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">From the terminal:</strong> $sudo nano /etc/hostname<br>replace: raspberrypi with node1</pre><p name="c14f" id="c14f" class="graf--p graf-after--pre graf--last">Last step, reboot and take a break. I’m done with Raspberry. Pretty straight forward so far. Next step (Part 2) getting Hadoop installed.</p></div></div></section><section name="a761" class=" section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="720b" id="720b" class="graf--p graf--leading graf--last">Questions? Comments? Let me know. <a href="https://medium.com/@jasonicarter/how-to-hadoop-at-home-with-raspberry-pi-part-2-b8ccfbe6ba9a#.rdymvh5zn" data-href="https://medium.com/@jasonicarter/how-to-hadoop-at-home-with-raspberry-pi-part-2-b8ccfbe6ba9a#.rdymvh5zn" class="markup--anchor markup--p-anchor">Next up, Hadoop single node installation</a></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/3b71f1b8ac4e">View the original on Medium</a></p></footer></article>
